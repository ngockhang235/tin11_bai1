<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timeline L·ªãch S·ª≠ C√¥ng Ngh·ªá Th√¥ng Tin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: https:; frame-ancestors *;">
    <meta http-equiv="X-Frame-Options" content="ALLOWALL">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .timeline-item {
            transition: all 0.3s ease;
        }
        
        .timeline-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .timeline-line {
            background: linear-gradient(180deg, #3B82F6 0%, #8B5CF6 20%, #EC4899 40%, #10B981 60%, #F59E0B 80%, #6366F1 100%);
        }
        
        .modal-backdrop {
            backdrop-filter: blur(10px);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .timeline-container {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body style="margin: 0; padding: 0; width: 100%; height: 100vh; background: #f8fafc; font-family: 'Inter', sans-serif;">
    <!-- Main Slide Container -->
    <div class="w-full h-full bg-white overflow-hidden" style="width: 100%; height: 100vh; min-height: 600px;">
        <!-- Header -->
        <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4" style="background: linear-gradient(90deg, #2563eb 0%, #9333ea 100%);">
            <h1 class="text-xl font-bold text-center mb-2" style="color: white; font-size: 20px; margin-bottom: 8px;">
                üñ•Ô∏è L·ªãch S·ª≠ Ph√°t Tri·ªÉn C√¥ng Ngh·ªá Th√¥ng Tin
            </h1>
            <p class="text-center text-sm" style="color: #ddd6fe; font-size: 14px;">
                Kh√°m ph√° h√†nh tr√¨nh ph√°t tri·ªÉn c·ªßa m√°y t√≠nh v√† c√¥ng ngh·ªá th√¥ng tin
            </p>
        </div>

        <!-- Timeline Container -->
        <div class="p-4 overflow-x-auto overflow-y-hidden" style="padding: 16px; height: calc(100% - 100px); overflow-x: auto; overflow-y: hidden;">
            <div class="relative w-full h-full flex items-center justify-center">
                <!-- Timeline Line (Horizontal) -->
                <div class="absolute top-1/2 left-8 right-8 h-2 timeline-line rounded-full transform -translate-y-1/2" style="position: absolute; top: 50%; left: 32px; right: 32px; height: 8px; background: linear-gradient(90deg, #3B82F6 0%, #8B5CF6 20%, #EC4899 40%, #10B981 60%, #F59E0B 80%, #6366F1 100%); border-radius: 9999px; transform: translateY(-50%);"></div>
                
                <!-- Timeline Items (Horizontal Layout) -->
                <div class="flex items-center justify-between w-full px-8 relative z-10" style="min-width: 1200px;">
                    
                    <!-- 1946 - ENIAC (Above timeline) -->
                    <div class="flex flex-col items-center">
                        <div class="timeline-item bg-white rounded-lg p-3 shadow-lg border-2 border-blue-200 hover:border-blue-400 text-center w-32 cursor-pointer mb-6" onclick="openModal('eniac')">
                            <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-semibold mb-2">1946</div>
                            <div class="text-xl mb-1">üíª</div>
                            <h3 class="text-xs font-bold text-gray-800 mb-1">ENIAC</h3>
                            <p class="text-xs text-gray-600">M√°y t√≠nh ƒëi·ªán t·ª≠ ƒë·∫ßu ti√™n</p>
                        </div>
                        <!-- Connecting line -->
                        <div class="w-0.5 h-6 bg-blue-500"></div>
                        <!-- Timeline dot -->
                        <div class="w-4 h-4 bg-blue-500 rounded-full border-4 border-white shadow-lg pulse-animation relative z-20"></div>
                    </div>

                    <!-- 1971 - Microprocessor (Below timeline) -->
                    <div class="flex flex-col items-center">
                        <!-- Timeline dot -->
                        <div class="w-4 h-4 bg-purple-500 rounded-full border-4 border-white shadow-lg pulse-animation relative z-20"></div>
                        <!-- Connecting line -->
                        <div class="w-0.5 h-6 bg-purple-500"></div>
                        <div class="timeline-item bg-white rounded-lg p-3 shadow-lg border-2 border-purple-200 hover:border-purple-400 text-center w-32 cursor-pointer mt-6" onclick="openModal('microprocessor')">
                            <div class="bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-semibold mb-2">1971</div>
                            <div class="text-xl mb-1">üîß</div>
                            <h3 class="text-xs font-bold text-gray-800 mb-1">Intel 4004</h3>
                            <p class="text-xs text-gray-600">Vi x·ª≠ l√Ω ƒë·∫ßu ti√™n</p>
                        </div>
                    </div>

                    <!-- 1981 - Personal Computer (Above timeline) -->
                    <div class="flex flex-col items-center">
                        <div class="timeline-item bg-white rounded-lg p-3 shadow-lg border-2 border-pink-200 hover:border-pink-400 text-center w-32 cursor-pointer mb-6" onclick="openModal('pc')">
                            <div class="bg-pink-100 text-pink-800 px-2 py-1 rounded-full text-xs font-semibold mb-2">1981</div>
                            <div class="text-xl mb-1">üñ•Ô∏è</div>
                            <h3 class="text-xs font-bold text-gray-800 mb-1">IBM PC</h3>
                            <p class="text-xs text-gray-600">M√°y t√≠nh c√° nh√¢n</p>
                        </div>
                        <!-- Connecting line -->
                        <div class="w-0.5 h-6 bg-pink-500"></div>
                        <!-- Timeline dot -->
                        <div class="w-4 h-4 bg-pink-500 rounded-full border-4 border-white shadow-lg pulse-animation relative z-20"></div>
                    </div>

                    <!-- 1991 - Internet (Below timeline) -->
                    <div class="flex flex-col items-center">
                        <!-- Timeline dot -->
                        <div class="w-4 h-4 bg-green-500 rounded-full border-4 border-white shadow-lg pulse-animation relative z-20"></div>
                        <!-- Connecting line -->
                        <div class="w-0.5 h-6 bg-green-500"></div>
                        <div class="timeline-item bg-white rounded-lg p-3 shadow-lg border-2 border-green-200 hover:border-green-400 text-center w-32 cursor-pointer mt-6" onclick="openModal('internet')">
                            <div class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold mb-2">1991</div>
                            <div class="text-xl mb-1">üåê</div>
                            <h3 class="text-xs font-bold text-gray-800 mb-1">World Wide Web</h3>
                            <p class="text-xs text-gray-600">Internet k·∫øt n·ªëi th·∫ø gi·ªõi</p>
                        </div>
                    </div>

                    <!-- 2007 - Mobile (Above timeline) -->
                    <div class="flex flex-col items-center">
                        <div class="timeline-item bg-white rounded-lg p-3 shadow-lg border-2 border-orange-200 hover:border-orange-400 text-center w-32 cursor-pointer mb-6" onclick="openModal('mobile')">
                            <div class="bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs font-semibold mb-2">2007</div>
                            <div class="text-xl mb-1">üì±</div>
                            <h3 class="text-xs font-bold text-gray-800 mb-1">Smartphone</h3>
                            <p class="text-xs text-gray-600">ƒêi·ªán tho·∫°i th√¥ng minh</p>
                        </div>
                        <!-- Connecting line -->
                        <div class="w-0.5 h-6 bg-orange-500"></div>
                        <!-- Timeline dot -->
                        <div class="w-4 h-4 bg-orange-500 rounded-full border-4 border-white shadow-lg pulse-animation relative z-20"></div>
                    </div>

                    <!-- 2010s - AI (Below timeline) -->
                    <div class="flex flex-col items-center">
                        <!-- Timeline dot -->
                        <div class="w-4 h-4 bg-indigo-500 rounded-full border-4 border-white shadow-lg pulse-animation relative z-20"></div>
                        <!-- Connecting line -->
                        <div class="w-0.5 h-6 bg-indigo-500"></div>
                        <div class="timeline-item bg-white rounded-lg p-3 shadow-lg border-2 border-indigo-200 hover:border-indigo-400 text-center w-32 cursor-pointer mt-6" onclick="openModal('ai')">
                            <div class="bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-semibold mb-2">2010s</div>
                            <div class="text-xl mb-1">ü§ñ</div>
                            <h3 class="text-xs font-bold text-gray-800 mb-1">AI</h3>
                            <p class="text-xs text-gray-600">Tr√≠ tu·ªá nh√¢n t·∫°o</p>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto slide-in">
            <div class="p-8">
                <div class="flex justify-between items-start mb-6">
                    <h2 id="modal-title" class="text-3xl font-bold text-gray-800"></h2>
                    <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 text-2xl">‚úï</button>
                </div>
                
                <div id="modal-image" class="mb-6 text-center">
                    <!-- Image will be inserted here -->
                </div>
                
                <div id="modal-content" class="text-gray-700 leading-relaxed">
                    <!-- Content will be inserted here -->
                </div>
                
                <div class="mt-6 flex justify-center">
                    <button id="speak-btn" onclick="speakContent()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold flex items-center gap-2 transition-colors">
                        üîä Nghe m√¥ t·∫£ b·∫±ng ti·∫øng Vi·ªát
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const timelineData = {
            eniac: {
                title: "üíª ENIAC (1946)",
                image: `<div class="w-64 h-48 mx-auto rounded-lg shadow-lg bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center text-6xl">üíª</div>`,
                content: `
                    <p class="mb-4"><strong>ENIAC (Electronic Numerical Integrator and Computer)</strong> l√† m·ªôt trong nh·ªØng m√°y t√≠nh ƒëi·ªán t·ª≠ ƒëa nƒÉng ƒë·∫ßu ti√™n tr√™n th·∫ø gi·ªõi.</p>
                    <ul class="list-disc list-inside space-y-2 mb-4">
                        <li>N·∫∑ng 30 t·∫•n, chi·∫øm di·ªán t√≠ch 167m¬≤</li>
                        <li>S·ª≠ d·ª•ng 17.468 ƒë√®n ch√¢n kh√¥ng</li>
                        <li>Ti√™u th·ª• 150kW ƒëi·ªán nƒÉng</li>
                        <li>C√≥ th·ªÉ th·ª±c hi·ªán 5.000 ph√©p c·ªông/gi√¢y</li>
                    </ul>
                    <p>ENIAC ƒë√°nh d·∫•u b∆∞·ªõc ngo·∫∑t quan tr·ªçng trong l·ªãch s·ª≠ m√°y t√≠nh, m·ªü ra k·ª∑ nguy√™n m√°y t√≠nh ƒëi·ªán t·ª≠.</p>
                `,
                speech: "ENIAC l√† m√°y t√≠nh ƒëi·ªán t·ª≠ ƒëa nƒÉng ƒë·∫ßu ti√™n tr√™n th·∫ø gi·ªõi, ƒë∆∞·ª£c ho√†n th√†nh nƒÉm 1946. M√°y n·∫∑ng 30 t·∫•n, s·ª≠ d·ª•ng h∆°n 17 ngh√¨n ƒë√®n ch√¢n kh√¥ng v√† c√≥ th·ªÉ th·ª±c hi·ªán 5 ngh√¨n ph√©p t√≠nh m·ªói gi√¢y. ENIAC ƒë√°nh d·∫•u b∆∞·ªõc ngo·∫∑t quan tr·ªçng, m·ªü ra k·ª∑ nguy√™n m√°y t√≠nh ƒëi·ªán t·ª≠ hi·ªán ƒë·∫°i."
            },
            microprocessor: {
                title: "üîß Intel 4004 (1971)",
                image: `<div class="w-64 h-48 mx-auto rounded-lg shadow-lg bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center text-6xl">üîß</div>`,
                content: `
                    <p class="mb-4"><strong>Intel 4004</strong> l√† vi x·ª≠ l√Ω ƒë·∫ßu ti√™n tr√™n th·∫ø gi·ªõi, c√°ch m·∫°ng h√≥a ng√†nh c√¥ng ngh·ªá.</p>
                    <ul class="list-disc list-inside space-y-2 mb-4">
                        <li>K√≠ch th∆∞·ªõc ch·ªâ 3mm x 4mm</li>
                        <li>Ch·ª©a 2.300 transistor</li>
                        <li>T·ªëc ƒë·ªô x·ª≠ l√Ω 740 kHz</li>
                        <li>C√¥ng ngh·ªá 10 micromet</li>
                    </ul>
                    <p>Vi x·ª≠ l√Ω ƒë√£ l√†m cho m√°y t√≠nh tr·ªü n√™n nh·ªè g·ªçn h∆°n v√† m·ªü ƒë∆∞·ªùng cho s·ª± ph√°t tri·ªÉn c·ªßa m√°y t√≠nh c√° nh√¢n.</p>
                `,
                speech: "Intel 4004 l√† vi x·ª≠ l√Ω ƒë·∫ßu ti√™n tr√™n th·∫ø gi·ªõi, ra ƒë·ªùi nƒÉm 1971. M·∫∑c d√π ch·ªâ c√≥ k√≠ch th∆∞·ªõc 3 nh√¢n 4 milim√©t v√† ch·ª©a 2300 transistor, n√≥ ƒë√£ c√°ch m·∫°ng h√≥a ng√†nh c√¥ng ngh·ªá. Vi x·ª≠ l√Ω n√†y c√≥ t·ªëc ƒë·ªô 740 kilohertz v√† ƒë√£ m·ªü ƒë∆∞·ªùng cho s·ª± ph√°t tri·ªÉn c·ªßa m√°y t√≠nh c√° nh√¢n."
            },
            pc: {
                title: "üñ•Ô∏è IBM PC (1981)",
                image: `<div class="w-64 h-48 mx-auto rounded-lg shadow-lg bg-gradient-to-br from-pink-100 to-pink-200 flex items-center justify-center text-6xl">üñ•Ô∏è</div>`,
                content: `
                    <p class="mb-4"><strong>IBM Personal Computer</strong> ƒë√£ ƒë∆∞a m√°y t√≠nh v√†o t·ª´ng gia ƒë√¨nh v√† vƒÉn ph√≤ng.</p>
                    <ul class="list-disc list-inside space-y-2 mb-4">
                        <li>Vi x·ª≠ l√Ω Intel 8088 4.77 MHz</li>
                        <li>RAM 16KB c√≥ th·ªÉ m·ªü r·ªông ƒë·∫øn 256KB</li>
                        <li>H·ªá ƒëi·ªÅu h√†nh MS-DOS</li>
                        <li>Gi√° b√°n: $1,565 (t∆∞∆°ng ƒë∆∞∆°ng $4,500 hi·ªán t·∫°i)</li>
                    </ul>
                    <p>IBM PC ƒë√£ t·∫°o ra ti√™u chu·∫©n cho m√°y t√≠nh c√° nh√¢n v√† kh·ªüi ƒë·∫ßu cho k·ª∑ nguy√™n m√°y t√≠nh ƒë·∫°i ch√∫ng.</p>
                `,
                speech: "IBM Personal Computer ra ƒë·ªùi nƒÉm 1981 ƒë√£ ƒë∆∞a m√°y t√≠nh v√†o t·ª´ng gia ƒë√¨nh v√† vƒÉn ph√≤ng. M√°y s·ª≠ d·ª•ng vi x·ª≠ l√Ω Intel 8088 v·ªõi t·ªëc ƒë·ªô 4.77 megahertz, c√≥ 16 kilobyte RAM v√† ch·∫°y h·ªá ƒëi·ªÅu h√†nh MS-DOS. IBM PC ƒë√£ t·∫°o ra ti√™u chu·∫©n cho m√°y t√≠nh c√° nh√¢n v√† kh·ªüi ƒë·∫ßu k·ª∑ nguy√™n m√°y t√≠nh ƒë·∫°i ch√∫ng."
            },
            internet: {
                title: "üåê World Wide Web (1991)",
                image: `<div class="w-64 h-48 mx-auto rounded-lg shadow-lg bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center text-6xl">üåê</div>`,
                content: `
                    <p class="mb-4"><strong>World Wide Web</strong> do Tim Berners-Lee ph√°t minh ƒë√£ k·∫øt n·ªëi th·∫ø gi·ªõi l·∫°i v·ªõi nhau.</p>
                    <ul class="list-disc list-inside space-y-2 mb-4">
                        <li>Website ƒë·∫ßu ti√™n: info.cern.ch</li>
                        <li>Giao th·ª©c HTTP v√† HTML</li>
                        <li>Tr√¨nh duy·ªát ƒë·∫ßu ti√™n: WorldWideWeb</li>
                        <li>Mi·ªÖn ph√≠ cho to√†n th·∫ø gi·ªõi</li>
                    </ul>
                    <p>Internet ƒë√£ thay ƒë·ªïi c√°ch ch√∫ng ta giao ti·∫øp, h·ªçc t·∫≠p, l√†m vi·ªác v√† gi·∫£i tr√≠, t·∫°o ra m·ªôt cu·ªôc c√°ch m·∫°ng th√¥ng tin to√†n c·∫ßu.</p>
                `,
                speech: "World Wide Web ƒë∆∞·ª£c Tim Berners-Lee ph√°t minh nƒÉm 1991 ƒë√£ k·∫øt n·ªëi th·∫ø gi·ªõi l·∫°i v·ªõi nhau. Website ƒë·∫ßu ti√™n c√≥ ƒë·ªãa ch·ªâ info.cern.ch, s·ª≠ d·ª•ng giao th·ª©c HTTP v√† ng√¥n ng·ªØ HTML. Internet ƒë√£ thay ƒë·ªïi ho√†n to√†n c√°ch ch√∫ng ta giao ti·∫øp, h·ªçc t·∫≠p, l√†m vi·ªác v√† gi·∫£i tr√≠, t·∫°o ra cu·ªôc c√°ch m·∫°ng th√¥ng tin to√†n c·∫ßu."
            },
            mobile: {
                title: "üì± Smartphone (2007)",
                image: `<div class="w-64 h-48 mx-auto rounded-lg shadow-lg bg-gradient-to-br from-orange-100 to-orange-200 flex items-center justify-center text-6xl">üì±</div>`,
                content: `
                    <p class="mb-4"><strong>iPhone ƒë·∫ßu ti√™n</strong> ƒë√£ ƒë·ªãnh nghƒ©a l·∫°i kh√°i ni·ªám ƒëi·ªán tho·∫°i th√¥ng minh.</p>
                    <ul class="list-disc list-inside space-y-2 mb-4">
                        <li>M√†n h√¨nh c·∫£m ·ª©ng ƒëa ƒëi·ªÉm</li>
                        <li>K·∫øt n·ªëi Internet kh√¥ng d√¢y</li>
                        <li>App Store - c·ª≠a h√†ng ·ª©ng d·ª•ng</li>
                        <li>Camera t√≠ch h·ª£p ch·∫•t l∆∞·ª£ng cao</li>
                    </ul>
                    <p>Smartphone ƒë√£ bi·∫øn m√°y t√≠nh th√†nh thi·∫øt b·ªã di ƒë·ªông, cho ph√©p m·ªçi ng∆∞·ªùi truy c·∫≠p th√¥ng tin v√† k·∫øt n·ªëi m·ªçi l√∫c, m·ªçi n∆°i.</p>
                `,
                speech: "iPhone ƒë·∫ßu ti√™n ra m·∫Øt nƒÉm 2007 ƒë√£ ƒë·ªãnh nghƒ©a l·∫°i kh√°i ni·ªám ƒëi·ªán tho·∫°i th√¥ng minh. V·ªõi m√†n h√¨nh c·∫£m ·ª©ng ƒëa ƒëi·ªÉm, k·∫øt n·ªëi Internet kh√¥ng d√¢y v√† App Store, smartphone ƒë√£ bi·∫øn m√°y t√≠nh th√†nh thi·∫øt b·ªã di ƒë·ªông, cho ph√©p m·ªçi ng∆∞·ªùi truy c·∫≠p th√¥ng tin v√† k·∫øt n·ªëi m·ªçi l√∫c, m·ªçi n∆°i."
            },
            ai: {
                title: "ü§ñ Tr√≠ tu·ªá nh√¢n t·∫°o (2010s)",
                image: `<div class="w-64 h-48 mx-auto rounded-lg shadow-lg bg-gradient-to-br from-indigo-100 to-indigo-200 flex items-center justify-center text-6xl">ü§ñ</div>`,
                content: `
                    <p class="mb-4"><strong>Tr√≠ tu·ªá nh√¢n t·∫°o</strong> ƒë√£ ph√°t tri·ªÉn m·∫°nh m·∫Ω v·ªõi machine learning v√† deep learning.</p>
                    <ul class="list-disc list-inside space-y-2 mb-4">
                        <li>AlphaGo ƒë√°nh b·∫°i k·ª≥ th·ªß c·ªù v√¢y th·∫ø gi·ªõi</li>
                        <li>Nh·∫≠n d·∫°ng gi·ªçng n√≥i v√† h√¨nh ·∫£nh</li>
                        <li>Xe t·ª± l√°i v√† robot th√¥ng minh</li>
                        <li>ChatGPT v√† AI t·∫°o sinh</li>
                    </ul>
                    <p>AI ƒëang thay ƒë·ªïi m·ªçi lƒ©nh v·ª±c t·ª´ y t·∫ø, gi√°o d·ª•c ƒë·∫øn giao th√¥ng, m·ªü ra k·ª∑ nguy√™n m·ªõi c·ªßa c√¥ng ngh·ªá th√¥ng minh.</p>
                `,
                speech: "Tr√≠ tu·ªá nh√¢n t·∫°o ph√°t tri·ªÉn m·∫°nh m·∫Ω t·ª´ th·∫≠p ni√™n 2010 v·ªõi machine learning v√† deep learning. AI ƒë√£ c√≥ nh·ªØng th√†nh t·ª±u ƒë√°ng kinh ng·∫°c nh∆∞ AlphaGo ƒë√°nh b·∫°i k·ª≥ th·ªß c·ªù v√¢y th·∫ø gi·ªõi, nh·∫≠n d·∫°ng gi·ªçng n√≥i v√† h√¨nh ·∫£nh, xe t·ª± l√°i v√† ChatGPT. AI ƒëang thay ƒë·ªïi m·ªçi lƒ©nh v·ª±c v√† m·ªü ra k·ª∑ nguy√™n c√¥ng ngh·ªá th√¥ng minh."
            }
        };

        let currentSpeech = null;

        function openModal(eventId) {
            const modal = document.getElementById('modal');
            const data = timelineData[eventId];
            
            document.getElementById('modal-title').textContent = data.title;
            document.getElementById('modal-image').innerHTML = data.image;
            document.getElementById('modal-content').innerHTML = data.content;
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            // Store current speech text
            currentSpeech = data.speech;
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
            
            // Stop any ongoing speech
            if (window.speechSynthesis) {
                window.speechSynthesis.cancel();
            }
        }

        function speakContent() {
            if (!currentSpeech) return;
            
            // Stop any ongoing speech
            if (window.speechSynthesis) {
                window.speechSynthesis.cancel();
            }
            
            // Create speech synthesis
            const utterance = new SpeechSynthesisUtterance(currentSpeech);
            utterance.lang = 'vi-VN';
            utterance.rate = 0.9; // Moderate speed for natural pronunciation
            utterance.pitch = 1.4; // Higher pitch for female voice
            
            // Try to find Vietnamese female voice with priority order
            const voices = window.speechSynthesis.getVoices();
            
            // Debug: log available voices
            console.log('Available voices:', voices.map(v => `${v.name} (${v.lang}) - ${v.gender || 'unknown gender'}`));
            
            const vietnameseVoice = voices.find(voice => 
                (voice.lang.includes('vi') || voice.lang.includes('VN')) && 
                (voice.name.toLowerCase().includes('female') || 
                 voice.name.toLowerCase().includes('woman') ||
                 voice.name.toLowerCase().includes('linh') ||
                 voice.name.toLowerCase().includes('mai') ||
                 voice.name.toLowerCase().includes('hoa') ||
                 voice.name.toLowerCase().includes('lan') ||
                 voice.gender === 'female')
            ) || voices.find(voice => 
                voice.name.toLowerCase().includes('female') ||
                voice.name.toLowerCase().includes('woman') ||
                voice.gender === 'female'
            );
            
            if (vietnameseVoice) {
                utterance.voice = vietnameseVoice;
                console.log('Selected voice:', vietnameseVoice.name);
            } else {
                // Force higher pitch if no female voice found
                utterance.pitch = 1.6;
                console.log('No female voice found, using high pitch');
            }
            
            // Update button during speech
            const speakBtn = document.getElementById('speak-btn');
            const originalText = speakBtn.innerHTML;
            speakBtn.innerHTML = '‚è∏Ô∏è ƒêang ph√°t...';
            speakBtn.disabled = true;
            
            utterance.onend = function() {
                speakBtn.innerHTML = originalText;
                speakBtn.disabled = false;
            };
            
            utterance.onerror = function() {
                speakBtn.innerHTML = originalText;
                speakBtn.disabled = false;
                alert('Xin l·ªói, kh√¥ng th·ªÉ ph√°t √¢m thanh. Vui l√≤ng th·ª≠ l·∫°i.');
            };
            
            window.speechSynthesis.speak(utterance);
        }

        // Close modal when clicking outside
        document.getElementById('modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // Load voices when page loads
        window.speechSynthesis.onvoiceschanged = function() {
            // Voices are now loaded
        };

        // Ensure compatibility with iframe embedding
        window.addEventListener('load', function() {
            // Allow the page to be embedded in iframes
            if (window.self !== window.top) {
                console.log('Page is running inside an iframe');
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a4411e96231093',t:'MTc1NDM3NTUxNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
